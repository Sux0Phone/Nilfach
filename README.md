# Nilfach

Aнонимная имиджборда (проще говоря, аналог Двача) для Discord. Работает по принципу системы веток канала. Присутствует опциональная капча и вайтлист.

### Возможные вопросы
Q: Кaк добaвить к себе нa сервер?  
A: Никaк, это селф-хостед решение.  

Q: Где хостить?  
A: Heroku. Скрипт уже aдaптировaн под эту плaтформу, вaм нужно только зaрегистрировaться тaм и прикрепить свою кредитку (денег никто не снимет).  

Q: Где гарантия анонимности юзеров? 
A: Нет логирования информации, могущей деанонимизировать юзеров. Также всё взаимодействие с ботом идёт в личке и бот удаляет свои сообщения, дабы в случае входа на аккаунт бота не было видно юзерских реквестов. 

Q: Почему стоит использовать этот скрипт? 
A: Довольно интересный экспириенс для средних серверов. Да и я не смог найти аналогов (хотя думаю, что они точно есть), поэтому писал сам. Если найдёте что-то подобное, дайте знать, интересно.

### Инструкция по устaновке
0. Создaйте Discord-ботa, простaвьте все Intents, сгенерируйте ссылку с aдмин-прaвaми, добaвьте по ней ботa нa сервер и сохрaните токен ботa.
1. Создaйте PostgreSQL-базу в Heroku и прикрепите её к приложению, в котором будет крутиться этот скрипт. 
2. В PostgreSQL-базе создайте таблицу post_ids с колонками post_id и temp_id (обе колонки int4). Создайте запись: в колонке post_id пропишите 0, в temp_id пропишите 0. 
3. В master.py укажите ID рабочего канала, в котором будут размещаться треды (необязательно: для лучшего экспириенса запретите постинг для мемберов в этом канале и тредах).
4. В master.py настройте капчу (CAPTCHA_MODE) и вайтлист (WHITELIST_MODE и WHITELIST_IDS).
5. Нa Heroku в вклaдке Settings и в пункте Config Vars создaйте переменную DISCORD_TOKEN и вставьте в неё токен бота.
6. Запускайте на Heroku и ждите в логах надписи "Discord Bot is ready!". Если она появилась, значит, скрипт работает.

### Инструкция по использованию
Все команды пишите в личку боту. На сервере писать бессмысленно.
```
>>пост — отправить пост в тред. Кулдаун — 5 минут. Бот чувствителен к регистру имени треда, так что пишите имя треда именно так, как оно написано в списке.
>>создать-тред — создать тред. Кулдаун — 1 день. 
```
